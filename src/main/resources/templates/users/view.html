<!DOCTYPE html>
<html layout:decorate="~{layout}" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Voir les détails de l'utilisateur</title>
    <style>
        .profile-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        .profile-picture {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 20px;
        }
        .user-details {
            display: flex;
            flex-wrap: wrap;
        }
        .user-detail {
            width: 50%;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
<section layout:fragment="content">
    <div class="grid-margin stretch-card">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">Détails de l'utilisateur</h4>
                <div class="profile-header">
                    <img th:src="${user.profile_picture}" alt="Profile Picture" class="profile-picture" />
                    <h5 th:text="${user.username}"></h5>
                </div>
                <div class="user-details">
                    <div class="user-detail">
                        <strong>ID:</strong> <span th:text="${user.id}"></span>
                    </div>
                    <div class="user-detail">
                        <strong>Email:</strong> <span th:text="${user.email}"></span>
                    </div>
                    <div class="user-detail">
                        <strong>Prénom:</strong> <span th:text="${user.first_name}"></span>
                    </div>
                    <div class="user-detail">
                        <strong>Nom:</strong> <span th:text="${user.last_name}"></span>
                    </div>
                    <div class="user-detail">
                        <strong>Genre:</strong> <span th:text="${user.gender}"></span>
                    </div>
                    <div class="user-detail">
                        <strong>Statut:</strong> <span th:text="${user.getFormattedStatus()}"></span>
                    </div>
                    <div class="user-detail">
                        <strong>Date de création:</strong> <span th:text="${#dates.format(user.created_at, 'dd/MM/yyyy HH:mm:ss')}"></span>
                    </div>
                    <div th:if="${user.status == 'Deleted'}" class="user-detail">
                        <strong>Date de suppression:</strong>
                        <span th:text="${#dates.format(user.deleted_at, 'dd/MM/yyyy HH:mm:ss')}">Non supprimé</span>
                    </div>
                </div>
                <div class="mt-3">
                    <a th:href="@{/users/listUser}" class="btn btn-primary">Retour à la liste</a>
                    <a th:href="@{/users/edit/{id}(id=${user.id})}" class="btn btn-warning">Modifier</a>
                    <a th:if="${user.status != 'Deleted'}" th:href="@{/users/delete/{id}(id=${user.id})}" onclick="return confirm('Êtes-vous sûr de vouloir supprimer cet utilisateur ?');" class="btn btn-danger">Supprimer</a>
                </div>
            </div>
        </div>
    </div>
</section>
</body>
</html>
